<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Thames Valley Bulletin</title>
    
<link rel="icon" href="favicon/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="favicon/apple-touch-icon.png">
<link rel="manifest" href="favicon/site.webmanifest">
    
<style>
/* ===== TODO TU CSS EXISTENTE ===== */
/* ...todo el CSS que ya tenías... */
</style>
</head>

<body>
  <!-- ===== NAVBAR ===== -->
<nav class="navbar">
  <a href="index.html">Home</a>
  <a href="bulletin1.html">Bulletin 1</a>
  <a href="bulletin2.html">Bulletin 2</a>
  <a href="bulletin3.html">Bulletin 3</a>
</nav>

<style>
/* ===== NAVBAR ESTILO PROFESIONAL ===== */
/* ...igual que antes... */
</style>

<!-- ===== HERO ===== -->
<div class="hero">
    <img class="logo" src="the-thame-valley-bulletin-WB.png" alt="Logo" />
    <h1>THE THAMES VALLEY BULLETIN</h1>
    <h2>Bringing facts to the Thames Valley without the noise of social media</h2>
</div>

<!-- ===== BOTONES ===== -->
<div class="buttons-section">
    <div class="buttons-central">
<a href="bulletin1.html" class="bulletin-btn published" id="bulletin1-btn">
    <div class="bulletin-label">Bulletin 1</div>
    <div class="bulletin-title">We paid Crime Commissioner’s £180k of membership fees?</div>
    <span class="view-more">VIEW MORE</span>
    <span id="bulletin1-counter" style="display:block; margin-top:8px; font-size:14px; color:white;">0 visits</span>
</a>

<a href="bulletin2.html" class="bulletin-btn published" id="bulletin2-btn">
    <div class="bulletin-label">Bulletin 2</div>
    <div class="bulletin-title">Industrial fly tipping in Cholsey</div>
    <span class="view-more">VIEW MORE</span>
    <span id="bulletin2-counter" style="display:block; margin-top:8px; font-size:14px; color:white;">0 visits</span>
</a>

<a href="bulletin3.html" class="bulletin-btn" id="bulletin3-btn">
    <div class="bulletin-label">Bulletin 3</div>
    <div class="bulletin-title">NHS Problem?  Victim’s on TVP waiting lists</div>
    <span class="view-more">REPORT COMING SOON</span>
</a>
    </div>
</div>

<!-- ===== ABOUT SECTION ===== -->
<section class="about-section">
    <div class="about-container">
       <div class="about-title">
    WELCOME TO<br>
    THE THAMES<br>
    VALLEY BULLETIN
</div>
       <div class="about-text">
    An independent citizen-led initiative designed to empower the community
    by bringing <b>clarity, transparency and public awareness</b> to how we are
    being governed, using the Thames Valley as the local example.
    <br><br>
    Each bulletin highlights <b>real cases, evidence</b> and
    <b>concerns</b> — presented with the sole purpose of informing
    residents so we can hold those in power to account.
</div>
    </div>
</section>

<div class="content-wrapper">
    <div class="bulletin-column">
        <!-- Aquí no hay boletines, solo los botones arriba -->
    </div>
</div>

<div id="backToTopWrapper">
    <button id="backToTop">↑</button>
    <div class="back-to-top-text">BACK TO TOP</div>
</div>

<script>
// ===== BOTÓN BACK TO TOP =====
const backToTopBtn = document.getElementById("backToTop");
backToTopBtn.parentElement.style.display = "none"; 

window.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
        backToTopBtn.parentElement.style.display = "flex";
    } else {
        backToTopBtn.parentElement.style.display = "none";
    }
});

backToTopBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const API_KEY = "ut_FnlkeB0Z11rSsbpyOqJOFY9xLB9UuixUzFpKqU7k";
  const NAMESPACE = "thames-valley-bulletin";

  const counters = {
    "bulletin1-counter": "bulletin1",
    "bulletin2-counter": "bulletin2"
  };

  async function updateCounter(counterName, elementId) {
    try {
      const res = await fetch(`https://api.counterapi.dev/v2/${NAMESPACE}/${counterName}?increase=1`, {
        headers: { "Authorization": `Bearer ${API_KEY}` }
      });
      const data = await res.json();
      const el = document.getElementById(elementId);
      if (el) el.textContent = `${data.value ?? 0} visits`;
    } catch (err) {
      console.error("Counter error:", err);
      const el = document.getElementById(elementId);
      if (el) el.textContent = "0 visits";
    }
  }

  // Inicializar contadores al cargar la home
  for (const [elementId, counterName] of Object.entries(counters)) {
    updateCounter(counterName, elementId);
  }

  // ===== CLICK EN BOTONES DE BOLETINES =====
  document.querySelectorAll(".bulletin-btn").forEach(btn => {
    btn.addEventListener("click", async (e) => {
      const href = btn.getAttribute("href");
      const id = btn.id;

      if (id.startsWith("bulletin1")) await updateCounter("bulletin1", "bulletin1-counter");
      if (id.startsWith("bulletin2")) await updateCounter("bulletin2", "bulletin2-counter");

      setTimeout(() => { window.location.href = href; }, 150);
      e.preventDefault();
    });
  });

  // ===== CLICK EN NAVBAR HACIA BOLETINES =====
  document.querySelectorAll(".navbar a").forEach(link => {
    link.addEventListener("click", async (e) => {
      const href = link.getAttribute("href");

      if (href === "bulletin1.html") await updateCounter("bulletin1", "bulletin1-counter");
      if (href === "bulletin2.html") await updateCounter("bulletin2", "bulletin2-counter");

      setTimeout(() => { window.location.href = href; }, 150);
      e.preventDefault();
    });
  });
});
</script>

</body>
</html>






  















































































































































































































































































  














































































































































































































































































